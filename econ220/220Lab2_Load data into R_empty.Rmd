---
title: "Lab 2 Rmardown, Load data into R."
author: "Dr. Lopez de mesa Moyano"
date: "`r format(Sys.time(), '%d %B %Y')`"
output: 
  html_document: 
    toc: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

```

# Rmarkdown document and chunks of code  

Today I will show you how to open a Rmd document how to creat chunks of code and what options in chunks of code mean. 

* To create an Rmarkdown document in Rstudio go to File > New File > Rmarkdown 
* The Rmarkdown Cheatsheet in the Cheatsheets folder on the files tabs on Canvas walks your through the steps of creating an Rmarkdown document, write content and titles, and render or knit your document. 

* To create a chunk of code you can to Ctr+alt+i in PC or Command+alt+i in Mac
* inside the `{r }` at the begging of each chunk of code you can add the knitr options for that chunk. That means you are telling R what you want with those results or how you want to present those. 

 - `include = FALSE` prevents code and results from appearing in the finished file. R Markdown still runs the code in the chunk, and the results can be used by other chunks.
 - `echo = FALSE` prevents code, but not the results from appearing in the finished file. This is a useful way to embed figures.
  - `eval = FALSE` prevents the evaluation of the code, but not the code from appearing in the finished file. 
 - `message = FALSE` prevents messages that are generated by code from appearing in the finished file.
warning = FALSE prevents warnings that are generated by code from appearing in the finished.
 - `fig.cap = "..."` adds a caption to graphical results.

Important knitr options for our class are also: 

 - `results = 'asis'` shows the results form your code as they are. that allows you to have html code showing nicely in your final document more on this later in the semester. 
 - `results='hold'` hold the results of each line of code in your chunk and shows them all together after running the chunk. 

See the [R Markdown Reference Guide](https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf)  for a complete list of knitr chunk options.


# Set working directory

Go to the folder you created in the first class browsing throught the file window and set as working directory

```{r}
setwd("~/Dropbox/Emory Courses/Lab220")
getwd()
```

# Import data into R 

* Find where you data is located 
* check the extension of your data, is it excel csv? Knowing this helps you use the right package. 
* Easiest way is to use the "Import dataset" window, choose the extension and browse through your computer to find your data. 
* Make sure you are importaing the right data (check the range of your data in excel), check if your values are showing up with the same class (numeric, character, etc)
* Copy and paste the code into your Rmd document, that way everytime you run your code in your document R knows to look for the data.
* by copy and pasting you are creating an object in R with that a name 


## Loading data from excel 

A typical mistake is to load the data using the import window and forget to copy the importing code into your script or Rmarkdown. When that happens your code doesn't run because you are calling an object that you have not created in your code but outside of it. 

```{r}
library(readxl)

Data1 <- read_excel("MyDataPart1.xls", 
    range = "A11:B872", col_types = c("date", "numeric"))
str(Data1)
Data2 <- read_excel("MyDataPart2.xls", 
    range = "A11:B752", col_types = c("date", "numeric"))
str(Data2)
```

## Loading data csv 
```{r}
# once you have created your own working directory the path where your files are is shorter
election_info <- read.csv("election_info.csv")
str(election_info)

```

## Loading data from the web 

* Check the extension of the file on the web 
* use the right function 
* copy the url where the file is located. 
* Warning: Sometimes the website is down, if you are using data from the web for you final project I suggest that you download the file into your laptop or the cloud so you dont have last minute issues. 
```{r}
college <- read.csv("http://672258.youcanlearnit.net/college.csv")
```


# Data.frames 

* Cross sectional data 
* Time series data

# In class exercise 

You already know what a vector is and how to extract elements from a matrix 

* From the election data extract the electoral votes for Trump and Clinton into a new object called e_votes
* From the college data sum the sumber of undergrads 
```{r}

```

## From what you learn in Datacamp let's practice 

* Create a vector, year, that contains the years 2008 to 2013 
* Create 3 vectors of 6 elements each, each vector represents a product: prod1 prod2 prod3, elements are below
0,3,6,9,7,8
1,2,3,5,9,6
2,4,4,2,3,2
* combine all the vectors in a matrix called sales_mat
* use year for the rownames of the matrix
* Now create a dataframe and display it. To display you can define the object inside parenthesis. 


```{r}

```



